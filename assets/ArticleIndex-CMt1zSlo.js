import{f as I,u as j,P as _,g as A,h as B,o as a,c as u,b as n,F as f,i as h,n as x,t as o,j as F,k as C,l as b,s as i,_ as O}from"./app-Co7vUIjN.js";const $={class:"tabs"},R=["onClick"],S=["onClick","onMouseover"],z={class:"description"},E={class:"info"},L=I({__name:"ArticleIndex",setup(N){const D=j(),M=_.useCurrentPage();function P(s){D.push(s).catch(()=>{}),C.phoneMode&&M.value.type==="index"&&(C.indexOpen=!1)}function T(s){l.value.indexOf(s)===-1?l.value=[...l.value,s]:l.value=l.value.filter(t=>t!==s)}const k=_.useCurrentPage(),d=b(()=>k.value.url==="/article"),c=i([]),l=i([]),g=i([]),w=b(()=>l.value.length===0?[]:c.value.filter(s=>{for(const e of s.tags)if(l.value.includes(e))return!0;return!1}));for(const s of Object.values(_.getPageInfoMap().article)){c.value.push(s),s.tags||(s.tags=["未分类"]);for(const e of s.tags)g.value.includes(e)||(g.value.push(e),l.value.push(e))}c.value=c.value.sort((s,e)=>new Date(e.pubDate).getTime()-new Date(s.pubDate).getTime());const r=i(0),m=i(0);return A(()=>{B(()=>{d.value&&(r.value<m.value?r.value++:r.value>m.value&&r.value--)})}),(s,e)=>(a(),u(f,null,[n("div",$,[(a(!0),u(f,null,h(g.value,(t,v)=>(a(),u("label",{key:v,class:x({open:l.value.includes(t)}),onClick:p=>T(t)},o(t),11,R))),128))]),(a(!0),u(f,null,h(w.value,(t,v)=>(a(),u("div",{key:t.title},[n("span",{class:x(["article-title",{selected:d.value&&r.value===v||!d.value&&F(k).url===t.url}]),onClick:p=>P(t.url),onMouseover:p=>m.value=v},[n("h2",null,o(t.title),1),e[3]||(e[3]=n("hr",null,null,-1)),n("div",z,[n("span",null,o(t.abstract),1),n("div",E,[n("span",null,[e[0]||(e[0]=n("span",{class:"icon"},"",-1)),n("span",null,o(t.minutes)+"min",1)]),(a(!0),u(f,null,h(t.tags,(p,y)=>(a(),u("span",{key:y},[e[1]||(e[1]=n("span",{class:"icon"},"",-1)),n("span",null,o(p),1)]))),128)),n("span",null,[e[2]||(e[2]=n("span",{class:"icon"},"󰢧",-1)),n("span",null,o(t.pubDate),1)])])])],42,S)]))),128))],64))}}),q=O(L,[["__scopeId","data-v-523fd869"]]);export{q as default};
